import sqlite3
from config import MISSILES, DRONES, PREMIUM_MISSILES

async def get_user_profile(user_id: int):
    conn = sqlite3.connect('zone.db')
    cursor = conn.cursor()
    cursor.execute('SELECT * FROM users WHERE user_id = ?', (user_id,))
    user = cursor.fetchone()
    conn.close()
    
    if user:
        return (
            f"ğŸ‘¤ **Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø´Ù…Ø§:**\n"
            f"ğŸ’ Ø³Ú©Ù‡: {user[2]:,}\n"
            f"ğŸ’  Ø¬Ù…: {user[3]}\n"
            f"â­ XP: {user[4]:,}\n"
            f"ğŸ†™ Ø³Ø·Ø­: {user[5]}\n"
            f"ğŸ’ª Ù‚Ø¯Ø±Øª: {user[6]:,}\n"
            f"ğŸ›¡ Ø¯ÙØ§Ø¹: Ø³Ø·Ø­ {user[7]}"
        )
    return "âŒ Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯!"

def get_shop_items():
    text = "ğŸ›’ **ÙØ±ÙˆØ´Ú¯Ø§Ù‡ WarZone**\n\nğŸ’£ **Ù…ÙˆØ´Ú©â€ŒÙ‡Ø§:**\n"
    for name, info in MISSILES.items():
        text += f"â€¢ {name} - {info['damage']} damage - {info['price']} Ø³Ú©Ù‡\n"
    
    text += "\nğŸš **Ù¾Ù‡Ù¾Ø§Ø¯Ù‡Ø§:**\n"
    for name, info in DRONES.items():
        text += f"â€¢ {name} - +{info['bonus']} damage - {info['price']} Ø³Ú©Ù‡\n"
    
    return text

def get_premium_shop():
    text = "ğŸ’ **ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ÙˆÛŒÚ˜Ù‡ - ÙÙ‚Ø· Ø¨Ø§ Ø¬Ù…**\n\nğŸš€ **Ù…ÙˆØ´Ú©â€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡:**\n"
    for name, info in PREMIUM_MISSILES.items():
        text += f"â€¢ {name} - {info['damage']} damage - {info['price_gem']} Ø¬Ù…\n"
    
    text += "\nğŸ’° Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø¬Ù…: /buy_gems"
    return text
